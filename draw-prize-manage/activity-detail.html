<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>æ´»åŠ¨è¯¦æƒ… - å®šæ—¶å¼€å¥–å¹³å°</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { margin:0; font-family:system-ui, sans-serif; background:#f0f2f5; min-height:100vh; }
    .main { margin-left:240px; padding:20px; }
    .card { background:#fff; border-radius:8px; padding:24px; margin-bottom:24px; box-shadow:0 2px 8px rgba(0,0,0,0.1); }
    label { display:block; margin:16px 0 8px; font-weight:600; color:#333; }
    input, textarea, select { width:100%; padding:10px; border:1px solid #ddd; border-radius:4px; font-size:14px; }
    input:focus, textarea:focus, select:focus { border-color:#0081f8; outline:none; box-shadow:0 0 0 2px rgba(0,129,248,0.2); }
    .form-row { display:flex; gap:20px; margin-bottom:16px; align-items:flex-start; flex-wrap:wrap; }
    .form-row label { flex:0 0 160px; text-align:right; padding-top:10px; }
    .form-row .control { flex:1; }
    .btn { padding:10px 24px; border:none; border-radius:4px; color:#fff; cursor:pointer; font-size:16px; margin-right:12px; }
    .btn-primary { background:#0081f8; }
    .btn-success { background:#52c41a; }
    .btn-danger { background:#f5222d; }
    .btn-add { background:#0081f8; }
    .prize-row, .task-row { background:#f9f9f9; padding:16px; margin:12px 0; border-radius:8px; display:flex; gap:12px; align-items:center; flex-wrap:wrap; }
    .prize-row input, .task-row input, .task-row select { flex:1; min-width:120px; }
    .prize-row .btn-danger, .task-row .btn-danger { flex:0 0 auto; }
    .section-hidden { display:none; }
    .task-config { margin-top:16px; padding:16px; background:#f0f8ff; border-radius:8px; }
    .modal { display:none; position:fixed; inset:0; background:rgba(0,0,0,0.6); align-items:center; justify-content:center; z-index:1000; }
    .modal-content { background:#fff; width:90%; max-width:600px; border-radius:12px; padding:32px; box-shadow:0 10px 30px rgba(0,0,0,0.2); }
    .hidden { display:none !important; }
    .prize-preview { margin-top:12px; padding:12px; background:#f0f5ff; border-radius:6px; font-size:14px; }
    .thanks-tip { font-size:13px; color:#666; margin-top:8px; font-style:italic; }
  </style>
</head>
<body>

<!-- å·¦ä¾§å›ºå®šèœå• -->
<div style="width:240px;background:#001529;color:#fff;height:100vh;position:fixed;top:0;left:0;overflow-y:auto;box-shadow:2px 0 8px rgba(0,0,0,0.3)">
  <div style="padding:20px;font-size:22px;font-weight:bold;border-bottom:1px solid #0f2a47">å®šæ—¶å¼€å¥–å¹³å°</div>
  <ul style="list-style:none;margin:16px 0;padding:0">
    <li data-page="dashboard.html" style="padding:14px 24px;cursor:pointer;transition:0.3s" onclick="location.href='dashboard.html'">ä»ªè¡¨ç›˜</li>
    <li data-page="activity-list.html" style="padding:14px 24px;cursor:pointer;transition:0.3s;background:#0081f8;font-weight:bold" onclick="location.href='activity-list.html'">æ´»åŠ¨ç®¡ç†</li>
    <li data-page="prize-manage.html" style="padding:14px 24px;cursor:pointer;transition:0.3s" onclick="location.href='prize-manage.html'">å¥–å“ç®¡ç†</li>
    <li data-page="entry-list.html" style="padding:14px 24px;cursor:pointer;transition:0.3s" onclick="location.href='entry-list.html'">å‚ä¸è®°å½•</li>
    <li data-page="draw-manage.html" style="padding:14px 24px;cursor:pointer;transition:0.3s" onclick="location.href='draw-manage.html'">å¼€å¥–ç®¡ç†</li>
    <li data-page="winner-intervene.html" style="padding:14px 24px;cursor:pointer;transition:0.3s" onclick="location.href='winner-intervene.html'">ä¸­å¥–å¹²é¢„</li>
    <li data-page="statistics.html" style="padding:14px 24px;cursor:pointer;transition:0.3s" onclick="location.href='statistics.html'">æ•°æ®ç»Ÿè®¡</li>
    <li style="padding:14px 24px;cursor:pointer;transition:0.3s;margin-top:40px" onclick="if(confirm('ç¡®å®šé€€å‡ºï¼Ÿ'))location.href='dashboard.html'">é€€å‡ºç™»å½•</li>
  </ul>
</div>

<!-- ä¸»å†…å®¹ -->
<div class="main">
  <h1>ç¼–è¾‘æ´»åŠ¨ #1001</h1>
  <p style="color:#888;margin-bottom:24px">åˆ›å»ºæˆ–ä¿®æ”¹æ´»åŠ¨åŸºæœ¬ä¿¡æ¯ã€å¼€å¥–è§„åˆ™å’Œå¥–å“é…ç½®</p>

  <!-- åŸºæœ¬ä¿¡æ¯ -->
  <div class="card">
    <h2>åŸºæœ¬ä¿¡æ¯</h2>

    <div class="form-row">
      <label>æ´»åŠ¨åç§°</label>
      <div class="control">
        <input type="text" value="2026åŒ11è¶…çº§ç¦åˆ©æŠ½å¥–" placeholder="è¯·è¾“å…¥æ´»åŠ¨åç§°">
      </div>
    </div>

    <div class="form-row">
      <label>æ´»åŠ¨çŠ¶æ€</label>
      <div class="control">
        <select>
          <option>æœªå¼€å§‹</option>
          <option selected>è¿›è¡Œä¸­</option>
          <option>å·²ç»“æŸ</option>
          <option>å·²å¼€å¥–</option>
        </select>
      </div>
    </div>

    <div class="form-row">
      <label>æ´»åŠ¨æ—¶é—´</label>
      <div class="control" style="display:flex;gap:12px;align-items:center;">
        <input type="datetime-local" value="2026-02-01T00:00">
        <span>è‡³</span>
        <input type="datetime-local" value="2026-02-28T23:59">
      </div>
    </div>

    <div class="form-row">
      <label>å¼€å¥–æ—¶é—´</label>
      <div class="control">
        <input type="datetime-local" value="2026-03-05T20:00">
        <div style="font-size:12px;color:#888;margin-top:4px">å¿…é¡»æ™šäºæ´»åŠ¨ç»“æŸæ—¶é—´</div>
      </div>
    </div>

    <div class="form-row">
      <label>æ¯äººå‚ä¸æ¬¡æ•°é™åˆ¶</label>
      <div class="control">
        <select id="entryLimitType" onchange="toggleTaskConfig()">
          <option>æ¯å¤©1æ¬¡ï¼ˆæ¨èï¼‰</option>
          <option>æ´»åŠ¨æœŸé—´æ€»å…±1æ¬¡</option>
          <option>æ— é™åˆ¶ï¼ˆå¯é…ç½®ä»»åŠ¡è·å–æ¬¡æ•°ï¼‰</option>
          <option>è‡ªå®šä¹‰æ¬¡æ•°ï¼ˆéœ€é…ç½®ä»»åŠ¡ï¼‰</option>
        </select>
      </div>
    </div>

    <!-- å‚ä¸ä»»åŠ¡é…ç½® -->
    <div id="taskConfigSection" class="section-hidden">
      <div class="card" style="margin-top:16px">
        <h3>å‚ä¸ä»»åŠ¡é…ç½®ï¼ˆè·å–æŠ½å¥–æ¬¡æ•°ï¼‰</h3>
        <p style="color:#666;margin-bottom:16px">ç”¨æˆ·å®Œæˆä»¥ä¸‹ä»»åŠ¡å¯è·å¾—é¢å¤–æŠ½å¥–æ¬¡æ•°ã€‚æ”¯æŒå¤šä»»åŠ¡å åŠ ã€‚</p>

        <div id="taskContainer">
          <!-- ç¤ºä¾‹ä»»åŠ¡ -->
          <div class="task-row">
            <select style="flex:0 0 180px;" onchange="toggleTaskPoints(this)">
              <option selected>åˆ†äº«æ´»åŠ¨é¡µ</option>
              <option>ä¸‹å•è´­ä¹°</option>
              <option>ç§¯åˆ†å…‘æ¢æŠ½å¥–ç </option>
            </select>
            <input type="number" value="1" min="1" placeholder="å®Œæˆ1æ¬¡å¾—" style="flex:0 0 120px;">
            <span style="white-space:nowrap;">æ¬¡æŠ½å¥–æœºä¼š</span>
            <input type="number" value="3" min="0" placeholder="æ¯æ—¥ä¸Šé™" style="flex:0 0 120px;">
            <div class="points-config hidden" style="display:flex;align-items:center;gap:8px;flex:1;">
              <span>æ¶ˆè€—</span>
              <input type="number" min="1" value="100" style="width:100px;" placeholder="ç§¯åˆ†">
              <span>ç§¯åˆ† â†’ 1æ¬¡æœºä¼š</span>
            </div>
            <button class="btn-danger" onclick="this.parentNode.remove()">åˆ é™¤ä»»åŠ¡</button>
          </div>
        </div>

        <button class="btn btn-add" style="margin-top:16px" onclick="addTaskRow()">+ æ·»åŠ ä»»åŠ¡</button>
      </div>
    </div>
  </div>

  <!-- å¼€å¥–è§„åˆ™ä¸å¹²é¢„ -->
  <div class="card">
    <h2>å¼€å¥–è§„åˆ™ä¸äººå·¥å¹²é¢„</h2>
    <div class="form-row">
      <label>é»˜è®¤ä¸­å¥–æ¦‚ç‡</label>
      <div class="control">
        <div style="display:flex;align-items:center;gap:12px;">
          <input type="range" min="0" max="100" value="100" id="winRate" style="flex:1" oninput="updateRate()">
          <strong id="rateText">100%</strong>
        </div>
        <div style="font-size:12px;color:#888;margin-top:4px">å½“å¥–å“æ€»æ•°é‡ > å‚ä¸äººæ•°æ—¶ï¼Œå»ºè®®è°ƒä½ä»¥æ§åˆ¶æˆæœ¬</div>
      </div>
    </div>

    <div class="form-row">
      <label>é¢„è®¡ä¸­å¥–äººæ•°</label>
      <div class="control">
        <strong id="expectWin">45672</strong> äºº
      </div>
    </div>

    <div class="form-row">
      <label>æ˜¯å¦å…è®¸ä¸€äººå¤šä¸­</label>
      <div class="control">
        <select>
          <option>å…è®¸ï¼ˆé«˜å¥–çº§ä¼˜å…ˆä¸€äººå¤šä¸­ï¼‰</option>
          <option selected>ä¸å…è®¸ï¼ˆä¸€äººæœ€å¤šä¸­ä¸€ä¸ªå¥–ï¼‰</option>
        </select>
      </div>
    </div>

    <div class="form-row">
      <label>æ´»åŠ¨è§„åˆ™è¯´æ˜</label>
      <div class="control">
        <textarea rows="6">1. å‚ä¸æ–¹å¼ï¼šå…³æ³¨å…¬ä¼—å· + è½¬å‘æœ‹å‹åœˆ + é‚€è¯·å¥½å‹å¾—æŠ½å¥–ç <br>2. æ¯äººæ¯å¤©æœ€å¤šå‚ä¸3æ¬¡<br>3. å¼€å¥–æ—¶é—´ç»Ÿä¸€è¿›è¡Œï¼ŒéšæœºåŒ¹é…å¥–å“<br>4. æœ€ç»ˆè§£é‡Šæƒå½’ä¸»åŠæ–¹æ‰€æœ‰</textarea>
      </div>
    </div>
   <!-- å®‰æ…°å¥–é…ç½® -->
<div style="margin-top:32px;padding-top:24px;border-top:1px solid #eee">
  <h3 style="margin:0 0 16px">å®‰æ…°å¥–é…ç½®ï¼ˆæœªä¸­å¥–ç”¨æˆ·ä¸“å±ï¼‰</h3>
  <p style="color:#666;margin-bottom:20px;font-size:14px">
    å½“ç”¨æˆ·æœªä¸­ä»»ä½•å¥–å“æ—¶ï¼Œå¯è‡ªåŠ¨å‘æ”¾å®‰æ…°å¥–ï¼Œæå‡ç”¨æˆ·ä½“éªŒå’Œç•™å­˜ç‡
  </p>

  <div class="form-row" style="align-items:center">
    <label style="flex:0 0 160px">å¼€å¯å®‰æ…°å¥–</label>
    <div class="control" style="display:flex;align-items:center;gap:12px">
      <input type="checkbox" id="comfortEnable" checked onchange="toggleComfortFields()" style="width:40px;height:20px">
      <span style="color:#0081f8;font-weight:500" id="comfortStatus">å·²å¼€å¯</span>
    </div>
  </div>

  <div id="comfortFields" style="margin-top:20px">
    <!-- ç±»å‹é€‰æ‹©å¡ç‰‡ -->
    <div class="form-row" style="flex-direction:column;gap:12px">
      <label>å®‰æ…°å¥–ç±»å‹</label>
      <div style="display:flex;gap:12px;flex-wrap:wrap">
        <label class="type-card" style="flex:1;min-width:140px;cursor:pointer">
          <input type="radio" name="comfortType" value="points" checked onchange="toggleComfortDetail()" style="display:none">
          <div class="type-content" style="padding:12px;border:2px solid #0081f8;border-radius:8px;text-align:center;background:#e6f7ff">
            <div style="font-size:20px">ğŸ’°</div>
            <div>ç§¯åˆ†å¥–åŠ±</div>
          </div>
        </label>

        <label class="type-card" style="flex:1;min-width:140px;cursor:pointer">
          <input type="radio" name="comfortType" value="coupon" onchange="toggleComfortDetail()" style="display:none">
          <div class="type-content" style="padding:12px;border:2px solid #ddd;border-radius:8px;text-align:center">
            <div style="font-size:20px">ğŸŸï¸</div>
            <div>ä¼˜æƒ åˆ¸</div>
          </div>
        </label>

        <label class="type-card" style="flex:1;min-width:140px;cursor:pointer">
          <input type="radio" name="comfortType" value="redpacket" onchange="toggleComfortDetail()" style="display:none">
          <div class="type-content" style="padding:12px;border:2px solid #ddd;border-radius:8px;text-align:center">
            <div style="font-size:20px">ğŸ§§</div>
            <div>å°é¢çº¢åŒ…</div>
          </div>
        </label>

        <label class="type-card" style="flex:1;min-width:140px;cursor:pointer">
          <input type="radio" name="comfortType" value="text" onchange="toggleComfortDetail()" style="display:none">
          <div class="type-content" style="padding:12px;border:2px solid #ddd;border-radius:8px;text-align:center">
            <div style="font-size:20px">ğŸ“</div>
            <div>è‡ªå®šä¹‰æ–‡æ¡ˆ</div>
          </div>
        </label>
      </div>
    </div>

    <!-- å…·ä½“é…ç½® -->
    <div id="comfortDetail" style="margin-top:20px">
      <!-- ç§¯åˆ† -->
      <div id="comfortPoints" class="comfort-row">
        <label>å¥–åŠ±ç§¯åˆ†æ•°é‡</label>
        <div class="control">
          <input type="number" min="1" max="10000" value="50" placeholder="å»ºè®® 10~1000">
          <div style="font-size:12px;color:#888;margin-top:4px">ç”¨æˆ·å¯åœ¨ç§¯åˆ†å•†åŸå…‘æ¢æŠ½å¥–æœºä¼šæˆ–å…¶ä»–æƒç›Š</div>
        </div>
      </div>

      <!-- ä¼˜æƒ åˆ¸ -->
      <div id="comfortCoupon" class="comfort-row hidden">
        <label>ä¼˜æƒ åˆ¸ç </label>
        <div class="control">
          <input type="text" value="COMFORT-10" placeholder="ç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆæˆ–æ‰‹åŠ¨å¡«å†™">
          <div style="font-size:12px;color:#888;margin-top:4px">æ”¯æŒæ»¡å‡/æ— é—¨æ§›ï¼Œå»ºè®®ä¸å•†å“æ´»åŠ¨è”åŠ¨</div>
        </div>
      </div>

      <!-- å°é¢çº¢åŒ… -->
      <div id="comfortRedpacket" class="comfort-row hidden">
        <label>çº¢åŒ…é‡‘é¢ï¼ˆå…ƒï¼‰</label>
        <div class="control">
          <input type="number" step="0.01" min="0.01" max="10" value="1.88" placeholder="å»ºè®® 0.1~6.66å…ƒ">
          <div style="font-size:12px;color:#888;margin-top:4px">é‡‘é¢è¿‡é«˜å¯èƒ½å½±å“æˆæœ¬ï¼Œå»ºè®®æ§åˆ¶åœ¨ 2 å…ƒä»¥å†…</div>
        </div>
      </div>

      <!-- è‡ªå®šä¹‰æ–‡æ¡ˆ -->
      <div id="comfortText" class="comfort-row hidden">
        <label>å®‰æ…°æ–‡æ¡ˆï¼ˆCç«¯å±•ç¤ºï¼‰</label>
        <div class="control">
          <textarea rows="4" placeholder="å¾ˆé—æ†¾æœªä¸­å¥–ï½é€ä½ ä¸€ä¸ªå¤§å¤§çš„æŠ±æŠ±ï¼ä¸‹æ¬¡ä¸€å®šä¸­ï¼ç»§ç»­å‚ä¸å…¶ä»–æ´»åŠ¨å§ï½">å¾ˆé—æ†¾æœªä¸­å¥–ï½é€ä½ ä¸€ä¸ªå¤§å¤§çš„æŠ±æŠ±ï¼ä¸‹æ¬¡ä¸€å®šä¸­ï¼ç»§ç»­å‚ä¸å…¶ä»–æ´»åŠ¨å§ï½</textarea>
        </div>
      </div>

      <!-- å‘æ”¾æ¡ä»¶ -->
      <div class="form-row">
        <label>å‘æ”¾æ¡ä»¶</label>
        <div class="control">
          <select>
            <option selected>æ‰€æœ‰æœªä¸­å¥–ç”¨æˆ·</option>
            <option>éšæœº 30%~70% æœªä¸­å¥–ç”¨æˆ·</option>
            <option>ä»…é¦–æ¬¡å‚ä¸æœªä¸­å¥–ç”¨æˆ·</option>
            <option>è¿ç»­3æ¬¡æœªä¸­å¥–ç”¨æˆ·</option>
          </select>
        </div>
      </div>

      <div class="form-row">
        <label>æ¯ç”¨æˆ·æ¯æ—¥ä¸Šé™</label>
        <div class="control">
          <input type="number" min="0" value="1" placeholder="0 = ä¸é™">
          <div style="font-size:12px;color:#888;margin-top:4px">é˜²æ­¢é‡å¤é¢†å–ï¼Œå»ºè®®è®¾ä¸º 1</div>
        </div>
      </div>
    </div>

    <!-- Cç«¯é¢„è§ˆ -->
    <div class="card" style="margin-top:24px;background:#f6ffed;border:1px solid #b7eb8f">
      <h4 style="margin:0 0 12px;color:#52c41a">Cç«¯ç”¨æˆ·ç«¯é¢„è§ˆï¼ˆæœªä¸­å¥–æ—¶å±•ç¤ºï¼‰</h4>
      <div style="padding:16px;background:#fff;border-radius:8px;border:1px dashed #52c41a">
        <div style="font-size:18px;color:#333;text-align:center;margin-bottom:12px">å¾ˆé—æ†¾ï¼Œæœ¬æ¬¡æœªä¸­å¥–ï½</div>
        <div style="color:#52c41a;font-weight:bold;text-align:center">
          é€ä½  <span id="comfortPreviewValue">50ç§¯åˆ†</span> ä½œä¸ºå®‰æ…°ï¼
        </div>
        <div style="font-size:13px;color:#888;text-align:center;margin-top:8px">
          ç§¯åˆ†å·²åˆ°è´¦ï¼Œå¯åœ¨ç§¯åˆ†å•†åŸå…‘æ¢æŠ½å¥–æœºä¼šæˆ–å…¶ä»–å¥½ç¤¼
        </div>
      </div>
    </div>
  </div>
</div>

  <!-- å¥–å“é…ç½® -->
  <div class="card">
    <h2>å¥–å“é…ç½®</h2>
    <p style="color:#888;margin-bottom:16px">æƒé‡è¶Šé«˜ï¼Œä¸­å¥–æ¦‚ç‡è¶Šé«˜ï¼›è°¢è°¢å‚ä¸ä¸ºå›ºå®šå…œåº•å¥–å“ã€‚</p>

    <div id="prizeContainer">
      <div class="prize-row">
        <input type="text" value="ä¸€ç­‰å¥–" style="flex:0 0 120px;" readonly>
        <input type="text" value="iPhone 16 Pro 256GB" readonly>
        <input type="number" value="5" min="1" style="flex:0 0 120px;" readonly>
        <input type="number" value="10" min="1" style="flex:0 0 120px;" readonly>
        <button class="btn-danger" onclick="this.parentNode.remove()">åˆ é™¤</button>
      </div>
    </div>

    <button class="btn btn-add" style="margin-top:16px" onclick="openPrizeModal()">+ æ·»åŠ å¥–å“</button>
  </div>

  <!-- æ“ä½œæŒ‰é’® -->
  <div style="text-align:right;margin-top:32px;">
    <button class="btn" style="background:#999;color:#fff" onclick="if(confirm('å–æ¶ˆç¼–è¾‘ï¼Ÿæœªä¿å­˜å†…å®¹å°†ä¸¢å¤±')) history.back()">å–æ¶ˆ</button>
    <button class="btn btn-success" onclick="alert('æ´»åŠ¨ä¿¡æ¯å·²ä¿å­˜ï¼ˆæ¨¡æ‹Ÿï¼‰')">ä¿å­˜è‰ç¨¿</button>
    <button class="btn btn-primary" onclick="alert('æ´»åŠ¨å·²å‘å¸ƒï¼ŒçŠ¶æ€å˜æ›´ä¸ºè¿›è¡Œä¸­ï¼ˆæ¨¡æ‹Ÿï¼‰')">ä¿å­˜å¹¶å‘å¸ƒ</button>
  </div>
</div>

  
  
<!-- å¥–å“é…ç½®å¼¹çª— -->
<div class="modal" id="prizeModal">
  <div class="modal-content">
    <h2 style="margin-top:0">æ·»åŠ /ç¼–è¾‘å¥–å“</h2>
    
    <div class="form-row">
      <label>å¥–çº§</label>
      <div class="control">
        <input type="text" id="prizeLevel" placeholder="å¦‚ï¼šä¸€ç­‰å¥–ã€äºŒç­‰å¥–ã€å‚ä¸å¥–" value="ä¸€ç­‰å¥–">
      </div>
    </div>

    <div class="form-row">
      <label>å¥–å“ç±»å‹</label>
      <div class="control">
        <select id="prizeType" onchange="togglePrizeFields()">
          <option value="physical">å®ç‰©å¥–</option>
          <option value="points">ç§¯åˆ†å¥–</option>
          <option value="coupon">ä¼˜æƒ åˆ¸</option>
          <option value="thanks">è°¢è°¢å‚ä¸ï¼ˆå…œåº•ï¼‰</option>
        </select>
      </div>
    </div>

    <!-- å®ç‰©å¥– -->
    <div id="physicalFields" class="form-row">
      <label>å®ç‰©å¥–å“ID</label>
      <div class="control">
        <input type="text" id="physicalId" placeholder="è¾“å…¥ç³»ç»Ÿä¸­å®ç‰©å¥–å“ID" value="P1001" oninput="previewPhysical()">
        <div id="physicalPreview" class="prize-preview" style="display:none;">
          <strong>é¢„è§ˆï¼š</strong> <span id="physicalName">iPhone 16 Pro 256GB</span> | 
          ï¿¥<span id="physicalPrice">8999</span> | 
          <img id="physicalImg" src="https://via.placeholder.com/60x60/ff9800/fff?text=iPhone" style="vertical-align:middle;width:60px;height:60px;object-fit:cover;border-radius:4px">
        </div>
      </div>
    </div>

    <!-- ç§¯åˆ†å¥– -->
    <div id="pointsFields" class="form-row hidden">
      <label>å¥–åŠ±ç§¯åˆ†æ•°é‡</label>
      <div class="control">
        <input type="number" id="pointsAmount" min="1" placeholder="å¦‚ï¼š5000" value="5000">
      </div>
    </div>

    <!-- ä¼˜æƒ åˆ¸ -->
    <div id="couponFields" class="form-row hidden">
      <label>ä¼˜æƒ åˆ¸ç </label>
      <div class="control">
        <input type="text" id="couponCode" placeholder="å¦‚ï¼šDOUBLE11-88" value="DOUBLE11-88">
      </div>
    </div>

    <!-- è°¢è°¢å‚ä¸ -->
    <div id="thanksFields" class="form-row hidden">
      <label></label>
      <div class="control">
        <div class="thanks-tip">è°¢è°¢å‚ä¸ï¼ˆä¸é™æ•°é‡ï¼Œå›ºå®šå…œåº•å¥–å“ï¼Œæ‰€æœ‰æœªä¸­å¥–ç”¨æˆ·å‡å¯è·å¾—ï¼‰</div>
      </div>
    </div>

    <div class="form-row" id="quantityRow">
      <label>å‘æ”¾æ•°é‡</label>
      <div class="control">
        <input type="number" id="prizeQuantity" min="1" value="10">
      </div>
    </div>

    <div class="form-row" id="weightRow">
      <label>ä¸­å¥–æƒé‡</label>
      <div class="control">
        <input type="number" id="prizeWeight" min="1" value="20">
      </div>
    </div>

    <div style="text-align:right;margin-top:32px;">
      <button class="btn" style="background:#999;color:#fff" onclick="closePrizeModal()">å–æ¶ˆ</button>
      <button class="btn btn-primary" onclick="savePrize()">ç¡®è®¤æ·»åŠ </button>
    </div>
  </div>
</div>

  
<script>
// é«˜äº®å½“å‰é¡µé¢èœå•é¡¹ + æ‚¬åœæ•ˆæœ
const currentPath = window.location.pathname.split('/').pop() || 'dashboard.html';
document.querySelectorAll('li').forEach(li => {
  const target = li.dataset.page;
  if (target === currentPath) {
    li.style.background = '#0081f8';
    li.style.fontWeight = 'bold';
  }
  li.addEventListener('mouseover', () => {
    if (!li.style.background.includes('#0081f8')) li.style.background = '#0f2a47';
  });
  li.addEventListener('mouseout', () => {
    if (!li.style.background.includes('#0081f8')) li.style.background = '';
  });
});
  
// åˆ‡æ¢å®‰æ…°å¥–å¼€å…³
function toggleComfortFields() {
  const enable = document.getElementById('comfortEnable').checked;
  document.getElementById('comfortFields').style.display = enable ? 'block' : 'none';
  document.getElementById('comfortStatus').innerText = enable ? 'å·²å¼€å¯' : 'å·²å…³é—­';
}

// åˆ‡æ¢å®‰æ…°å¥–ç±»å‹
function toggleComfortDetail() {
  const type = document.querySelector('input[name="comfortType"]:checked').value;
  
  document.getElementById('comfortPoints').classList.toggle('hidden', type !== 'points');
  document.getElementById('comfortCoupon').classList.toggle('hidden', type !== 'coupon');
  document.getElementById('comfortRedpacket').classList.toggle('hidden', type !== 'redpacket');
  document.getElementById('comfortText').classList.toggle('hidden', type !== 'text');

  // æ›´æ–°é¢„è§ˆ
  let previewText = '';
  if (type === 'points') {
    const val = document.getElementById('comfortPoints').querySelector('input').value;
    previewText = val + 'ç§¯åˆ†';
  } else if (type === 'coupon') {
    const val = document.getElementById('comfortCoupon').querySelector('input').value;
    previewText = 'ä¼˜æƒ åˆ¸ï¼š' + (val || 'æœªçŸ¥');
  } else if (type === 'redpacket') {
    const val = document.getElementById('comfortRedpacket').querySelector('input').value;
    previewText = val + 'å…ƒçº¢åŒ…';
  } else if (type === 'text') {
    previewText = 'è‡ªå®šä¹‰æ–‡æ¡ˆ';
  }
  document.getElementById('comfortPreviewValue').innerText = previewText;
}

// ç›‘å¬ç§¯åˆ†/çº¢åŒ…è¾“å…¥å˜åŒ–ï¼Œå®æ—¶æ›´æ–°é¢„è§ˆ
document.querySelectorAll('#comfortPoints input, #comfortRedpacket input').forEach(input => {
  input.addEventListener('input', toggleComfortDetail);
});

// åˆå§‹åŒ–
toggleComfortFields();
toggleComfortDetail();
  
// å®æ—¶æ›´æ–°é¢„è®¡ä¸­å¥–äººæ•°
function updateRate() {
  const rate = document.getElementById('winRate').value;
  const total = 45672;
  document.getElementById('rateText').innerText = rate + '%';
  document.getElementById('expectWin').innerText = Math.round(total * rate / 100);
}

// åˆ‡æ¢å‚ä¸æ¬¡æ•°é™åˆ¶æ—¶æ˜¾ç¤º/éšè—ä»»åŠ¡é…ç½®
function toggleTaskConfig() {
  const type = document.getElementById('entryLimitType').value;
  const section = document.getElementById('taskConfigSection');
  if (type === 'æ— é™åˆ¶ï¼ˆå¯é…ç½®ä»»åŠ¡è·å–æ¬¡æ•°ï¼‰' || type === 'è‡ªå®šä¹‰æ¬¡æ•°ï¼ˆéœ€é…ç½®ä»»åŠ¡ï¼‰') {
    section.classList.remove('section-hidden');
  } else {
    section.classList.add('section-hidden');
  }
}

// æ·»åŠ ä»»åŠ¡è¡Œ
function addTaskRow() {
  const container = document.getElementById('taskContainer');
  const newRow = document.createElement('div');
  newRow.className = 'task-row';
  newRow.innerHTML = `
    <select style="flex:0 0 180px;" onchange="toggleTaskPoints(this)">
      <option>åˆ†äº«æ´»åŠ¨é¡µ</option>
      <option>ä¸‹å•è´­ä¹°</option>
      <option>ç§¯åˆ†å…‘æ¢æŠ½å¥–ç </option>
    </select>
    <input type="number" value="1" min="1" placeholder="å®Œæˆ1æ¬¡å¾—" style="flex:0 0 120px;">
    <span style="white-space:nowrap;">æ¬¡æŠ½å¥–æœºä¼š</span>
    <input type="number" value="3" min="0" placeholder="æ¯æ—¥ä¸Šé™" style="flex:0 0 120px;">
    <div class="points-config hidden" style="display:flex;align-items:center;gap:8px;flex:1;">
      <span>æ¶ˆè€—</span>
      <input type="number" min="1" value="100" style="width:100px;" placeholder="ç§¯åˆ†">
      <span>ç§¯åˆ† â†’ 1æ¬¡æœºä¼š</span>
    </div>
    <button class="btn-danger" onclick="this.parentNode.remove()">åˆ é™¤ä»»åŠ¡</button>
  `;
  container.appendChild(newRow);
}

// åˆ‡æ¢ç§¯åˆ†å…‘æ¢ä»»åŠ¡çš„é¢å¤–å­—æ®µ
function toggleTaskPoints(select) {
  const row = select.parentNode;
  const pointsConfig = row.querySelector('.points-config');
  if (select.value === 'ç§¯åˆ†å…‘æ¢æŠ½å¥–ç ') {
    pointsConfig.classList.remove('hidden');
    pointsConfig.style.display = 'flex';
  } else {
    pointsConfig.classList.add('hidden');
    pointsConfig.style.display = 'none';
  }
}

// æ‰“å¼€å¥–å“å¼¹çª—
function openPrizeModal() {
  document.getElementById('prizeModal').style.display = 'flex';
  togglePrizeFields();
}

// å…³é—­å¥–å“å¼¹çª—
function closePrizeModal() {
  document.getElementById('prizeModal').style.display = 'none';
}

// åˆ‡æ¢å¥–å“ç±»å‹å­—æ®µ
function togglePrizeFields() {
  const type = document.getElementById('prizeType').value;
  document.getElementById('physicalFields').classList.toggle('hidden', type !== 'physical');
  document.getElementById('pointsFields').classList.toggle('hidden', type !== 'points');
  document.getElementById('couponFields').classList.toggle('hidden', type !== 'coupon');
  document.getElementById('thanksFields').classList.toggle('hidden', type !== 'thanks');
  document.getElementById('quantityRow').classList.toggle('hidden', type === 'thanks');
  document.getElementById('weightRow').classList.toggle('hidden', type === 'thanks');
  if (type === 'physical') previewPhysical();
}

// æ¨¡æ‹Ÿå®ç‰©é¢„è§ˆ
function previewPhysical() {
  const id = document.getElementById('physicalId').value.trim();
  const preview = document.getElementById('physicalPreview');
  if (id === 'P1001') {
    document.getElementById('physicalName').innerText = 'iPhone 16 Pro 256GB';
    document.getElementById('physicalPrice').innerText = '8999';
    document.getElementById('physicalImg').src = 'https://via.placeholder.com/60x60/ff9800/fff?text=iPhone';
    preview.style.display = 'block';
  } else if (id) {
    document.getElementById('physicalName').innerText = 'æœªçŸ¥å¥–å“';
    document.getElementById('physicalPrice').innerText = '0';
    document.getElementById('physicalImg').src = 'https://via.placeholder.com/60x60/ccc/fff?text=?';
    preview.style.display = 'block';
  } else {
    preview.style.display = 'none';
  }
}

// ä¿å­˜å¥–å“
function savePrize() {
  const level = document.getElementById('prizeLevel').value.trim() || 'æœªçŸ¥å¥–çº§';
  const type = document.getElementById('prizeType').value;
  let name = '';
  
  if (type === 'physical') name = `å®ç‰©å¥–ï¼ˆID: ${document.getElementById('physicalId').value || 'æœªçŸ¥'}ï¼‰`;
  else if (type === 'points') name = `${document.getElementById('pointsAmount').value || 0}ç§¯åˆ†`;
  else if (type === 'coupon') name = `ä¼˜æƒ åˆ¸ï¼š${document.getElementById('couponCode').value || 'æœªçŸ¥'}`;
  else if (type === 'thanks') name = 'è°¢è°¢å‚ä¸ï¼ˆå…œåº•ï¼‰';
  
  const quantity = type === 'thanks' ? 'ä¸é™' : document.getElementById('prizeQuantity').value;
  const weight = type === 'thanks' ? 'â€”' : document.getElementById('prizeWeight').value;
  
  const container = document.getElementById('prizeContainer');
  const row = document.createElement('div');
  row.className = `prize-row ${type === 'thanks' ? 'thanks' : ''}`;
  row.innerHTML = `
    <input type="text" value="${level}" style="flex:0 0 120px;" readonly>
    <input type="text" value="${name}" readonly>
    <input type="text" value="${quantity}" style="flex:0 0 120px;" readonly>
    <input type="text" value="${weight}" style="flex:0 0 120px;" readonly>
    <button class="btn-danger" onclick="this.parentNode.remove()" ${type === 'thanks' ? 'disabled' : ''}>åˆ é™¤</button>
  `;
  container.appendChild(row);
  closePrizeModal();
}
</script>
</body>
</html>
